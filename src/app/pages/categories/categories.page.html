<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/tab1"></ion-back-button>
    </ion-buttons>
    <ion-title *ngIf="objforcategoryname">Category: {{categoryname}}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-text  padding position= "center"> {{msg}} </ion-text>
    <ion-grid>
        <ion-row>
        <ion-col size="6" no-padding *ngFor = "let listing of categorylistings?.listing">
        <ion-card-content no-padding class="card-background-page ion-text-nowrap">
         <ion-card (click)="onGoToListingDetail(listing.id)" >
             <img src= "https://indusell.com/storage/{{listing.picture}}"/>
        <ion-card-header>
          <ion-card-title class="card-title">
            {{listing.name}}
          </ion-card-title>
          <ion-card-subtitle class="card-subtitle">
            S${{listing.price}}
          </ion-card-subtitle>
        </ion-card-header>
          <ion-list>
           <ion-item class = "card-item">
            <ion-icon name="eye" position="start"></ion-icon>
            <ion-input readonly="true">{{listing.visits}}</ion-input>
            <ion-badge *ngIf = "listing.posttypename === 'New'" color="light">N</ion-badge>
            <ion-badge *ngIf = "listing.posttypename === 'Used'" color="light">U</ion-badge>
           </ion-item>
           <ion-item lines = none class = "card-item">
            <ion-icon name="pin" position="start"></ion-icon>
            <ion-input readonly="true">{{listing.location}}</ion-input>
            <div *ngFor="let rating of ratingarr">
                <ion-input *ngIf="listing.id === rating.id" readonly="true">
                  <h3>{{rating.totalrating}}</h3>
                </ion-input>
              </div>
          <!-- <ion-input readonly="true">{{ratingforID}}</ion-input> -->
          <ion-icon name="star"></ion-icon>
         </ion-item>
        </ion-list>
      
      </ion-card>
    </ion-card-content>
      </ion-col>
      </ion-row>
      </ion-grid>

</ion-content>

